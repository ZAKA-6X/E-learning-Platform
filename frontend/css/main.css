/* ===== ClicaEd — Global Theme (extracted from dashboard.css) ===== */
/* Reset / Base */
*,*::before,*::after{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:#f7f7fb; color:#23262d;
  font:14px/1.5 "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  -webkit-font-smoothing:antialiased;
}

@supports (-moz-osx-font-smoothing: grayscale) {
  body{
    -moz-osx-font-smoothing:grayscale;
  }
}
img{display:block; max-width:100%}
button,input,select,textarea{font:inherit}
[hidden]{display:none!important}

/* Palette / Tokens */
:root{
  --bg:#f7f7fb;
  --card:#fff;
  --ink:#23262d;
  --muted:#7a7f8c;
  --line:#ececf2;
  --primary:#6a5acd;      /* soft indigo */
  --primary-ink:#4e56c5;
  --accent:#f2f3ff;
  --good:#1aa34a;
  --bad:#e04343;
  --shadow:0 8px 24px rgba(16,22,34,.06);
  --brand:#f97316;
  --brand-dark:#c2410c;
}

/* Layout shells */
.main-container{display:flex; gap:20px; padding:20px}
.centered-content{flex:1; display:flex; justify-content:center}
.content-container{width:100%; max-width:1180px}

/* Generic sections */
.dash-head{display:flex; align-items:center; justify-content:space-between; margin:6px 0 14px}
.dash-title{margin:0}
.dash-overview{font-size:12px; color:var(--muted)}

/* Header */
.header{
  height:64px; background:#fff; border-bottom:1px solid var(--line);
  display:flex; align-items:center; justify-content:space-between;
  padding:0 16px 0 20px; position:sticky; top:0; z-index:60;
  gap:18px;
  flex:0 0 auto;
}
.header-brand{display:flex; align-items:center; gap:12px; min-width:0;}
.logo{
  display:flex; align-items:center; gap:10px;
  font-weight:700; letter-spacing:.2px; color:var(--brand);
  text-decoration:none;
}
.logo img{width:34px; height:34px; border-radius:8px; object-fit:contain; box-shadow:0 2px 6px rgba(0,0,0,.08);}
.logo span{display:inline-block; font-size:18px; white-space:nowrap;}
.logo small{display:block; font-size:11px; font-weight:600; color:var(--brand-dark); letter-spacing:.4px; text-transform:uppercase;}
.search-bar{flex:1; max-width:520px; margin:0 16px}
.search-bar input{
  width:100%; border:1px solid var(--line); background:#fff;
  height:36px; border-radius:10px; padding:0 12px; outline:none;
}
.user-menu{display:flex; align-items:center; gap:10px}
.action-button{
  border:1px solid var(--line); background:#fff; padding:8px 12px; border-radius:10px;
  cursor:pointer; transition:all .15s ease; box-shadow:none;
}
.action-button:hover{border-color:#e0e2ef; transform:translateY(-1px)}
.user-avatar{
  width:34px;height:34px;border-radius:50%;display:grid;place-items:center;
  background:#fff7ed;color:var(--brand);font-weight:700;
  text-decoration:none;
  border:0;
  cursor:pointer;
  transition:transform .15s ease, box-shadow .15s ease;
}
.user-avatar:hover{transform:translateY(-1px); box-shadow:0 8px 16px rgba(249,115,22,.25);}
.user-avatar:focus-visible{outline:2px solid var(--brand); outline-offset:2px;}
.user-menu-trigger{position:relative; display:flex; align-items:center;}
.user-menu-panel{
  position:absolute;
  right:0;
  top:calc(100% + 8px);
  background:#fff;
  border:1px solid var(--line);
  border-radius:12px;
  box-shadow:var(--shadow);
  min-width:160px;
  padding:6px;
  display:flex;
  flex-direction:column;
  gap:4px;
  z-index:120;
}
.user-menu-panel[hidden]{display:none;}
.user-menu-item{
  border:0;
  background:transparent;
  text-align:left;
  padding:8px 12px;
  border-radius:8px;
  color:var(--ink);
  font-weight:500;
  cursor:pointer;
}
.user-menu-item[data-action="logout"]{
  color:var(--bad);
  font-weight:600;
}
.user-menu-item:hover,
.user-menu-item:focus-visible{
  background:var(--accent);
  color:var(--primary-ink);
  outline:none;
}
.user-menu-item[data-action="logout"]:hover,
.user-menu-item[data-action="logout"]:focus-visible{
  background:rgba(224,67,67,0.1);
  color:var(--bad);
}

.mobile-nav-toggle{
  border:1px solid var(--line);
  background:#fff;
  display:none;
  align-items:center;
  justify-content:center;
  width:36px;
  height:36px;
  border-radius:10px;
  cursor:pointer;
  color:var(--brand);
  transition:background .15s ease, color .15s ease, border .15s ease;
}
.mobile-nav-toggle:hover{background:#fff7ed; border-color:#fed7aa; color:var(--brand-dark);}
.mobile-nav-toggle:focus-visible{outline:2px solid var(--brand); outline-offset:2px;}
.mobile-nav-toggle .fa-bars{font-size:18px;}

.sr-only{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;}

/* Left Sidebar */
.left-sidebar{
  width:240px; flex:0 0 240px; background:#fff; border:1px solid var(--line);
  border-radius:12px; padding:14px 12px; height:calc(100vh - 40px - 64px);
  position:sticky; top:80px; overflow:auto; box-shadow:var(--shadow);
  transition:transform .28s ease, opacity .28s ease, visibility .28s ease;
  z-index:70;
}
.sidebar-section + .sidebar-section{margin-top:10px}
.sidebar-header{
  margin:6px 8px 6px; font-size:12px; text-transform:uppercase;
  letter-spacing:.35px; color:#5f6273; font-weight:600;
}
.sidebar-item{
  display:flex; align-items:center; gap:10px;
  padding:9px 10px; border-radius:10px; text-decoration:none;
  color:var(--ink); font-weight:500; transition:background .15s ease, color .15s ease;
  border:1px solid transparent;
}
.sidebar-item:hover{background:#fafafe}
.sidebar-item.active{background:#eef0ff; color:#2f36b2; border-color:#dfe1ff; box-shadow:inset 0 0 0 1px #e9ebff}
.sidebar-icon{width:18px; display:grid; place-items:center; color:#5961c7}
.left-sidebar a{color:inherit; text-decoration:none}
.left-sidebar a:visited{color:inherit}

/* Cards */
.card{
  background:var(--card); border:1px solid var(--line);
  border-radius:12px; box-shadow:var(--shadow); padding:16px;
}
.card + .card{margin-top:20px}
.card-head{display:flex; align-items:center; justify-content:space-between; margin-bottom:12px}
.card-head h3{margin:0; font-size:16px}

/* Utilities */
.select{border:1px solid var(--line); background:#fff; border-radius:8px; padding:8px 10px; font:inherit}
.muted{color:var(--muted)}
.tag{color:var(--muted); font-weight:500}

/* Scrollbar tweak */
.left-sidebar{scrollbar-width:thin}
.left-sidebar::-webkit-scrollbar{width:8px}
.left-sidebar::-webkit-scrollbar-thumb{background:#e0e2ef; border-radius:8px}

/* Responsive */
@media (max-width:1200px){
  .content-container{max-width:960px}
}
@media (max-width:980px){
  .header{padding:0 14px;}
  .mobile-nav-toggle{display:inline-flex;}
  .header-brand{flex:0 0 auto;}
  .search-bar{margin:0 0 0 8px;}
  .main-container{gap:14px; padding:14px; flex-direction:column;}
  .left-sidebar{
    position:fixed;
    inset:64px auto 0 0;
    width:min(260px, 82vw);
    height:auto;
    max-height:calc(100vh - 64px);
    transform:translateX(-105%);
    opacity:0;
    visibility:hidden;
    box-shadow:0 16px 40px rgba(0,0,0,.18);
  }
  body.sidebar-open .left-sidebar{
    transform:translateX(0);
    opacity:1;
    visibility:visible;
  }
  body.sidebar-open{overflow:hidden;}
  body.sidebar-open::after{
    content:"";
    position:fixed;
    inset:0;
    background:rgba(17,24,39,.45);
    backdrop-filter:blur(2px);
    z-index:65;
  }
  .centered-content{width:100%;}
  .content-container{max-width:100%;}
}


/*-----------------------------------------TEACHER CSS----------------------------------------------------------*/
/* --- Mes Cours — Reddit-inspired clean UI ------------------------------- */
.courses-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
  margin-bottom: 12px;
}
.courses-header .left h2 { margin: 0; }
.courses-header .meta { margin-top: 2px; font-size: 0.9rem; }

.actions-wrap {
  display: flex; align-items: center; gap: 10px; flex-wrap: wrap;
}

/* Search */
.search-wrap {
  display: inline-flex; align-items: center; gap: 8px;
  background: #f6f7f8; border: 1px solid #e6e7e8;
  padding: 6px 10px; border-radius: 999px;
}
.search-wrap input {
  border: none; background: transparent; outline: none; width: 220px;
}
.search-wrap i { color: #6b7280; }

/* Segmented control */
.segmented {
  display: inline-flex; border: 1px solid #e6e7e8; border-radius: 999px; overflow: hidden; background: #fff;
}
.segmented.small .segmented-item { padding: 6px 10px; font-size: 0.9rem; }
.segmented-item { border: none; background: transparent; padding: 8px 14px; cursor: pointer; }
.segmented-item.active { background: #e9eefb; color: #1f4fd6; font-weight: 600; }

/* Sort select */
.select-wrap {
  display: inline-flex; align-items: center; gap: 8px;
  background: #fff; border: 1px solid #e6e7e8; border-radius: 10px; padding: 6px 10px;
}
.select-wrap select { border: none; background: transparent; outline: none; }

/* View toggle */
.view-toggle { display: inline-flex; border: 1px solid #e6e7e8; border-radius: 10px; overflow: hidden; }
.view-btn { border: none; background: #fff; padding: 6px 10px; cursor: pointer; }
.view-btn.active { background: #f2f3f5; }

/* Grid/List containers */
.course-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 14px; }
.course-list { display: flex; flex-direction: column; gap: 10px; }

/* Course card */
.course-card {
  background: #fff; border: 1px solid #e6e7e8; border-radius: 12px; padding: 14px;
  box-shadow: 0 1px 2px rgba(0,0,0,0.03); display: grid; gap: 8px;
}
.course-card[role="button"] { cursor: pointer; transition: border-color .15s ease, box-shadow .15s ease, transform .15s ease; }
.course-card[role="button"]:hover { border-color: #c7d2fe; box-shadow: 0 12px 28px rgba(79,70,229,0.08); transform: translateY(-2px); }
.course-card[role="button"]:focus-visible { outline: 2px solid #6366f1; outline-offset: 3px; }
.course-card.active { border-color: #a5b4fc; box-shadow: 0 12px 30px rgba(79,70,229,0.12); }
.course-card .top { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
.course-card .title { display: flex; align-items: center; gap: 8px; font-weight: 700; }
.badge {
  display: inline-flex; align-items: center; gap: 6px;
  font-size: 0.75rem; padding: 2px 8px; border-radius: 999px;
  border: 1px solid #e6e7e8; background: #f8fafc; color: #475569;
}
.badge.green  { background: #ecfdf5; color: #065f46; border-color: #a7f3d0; }
.badge.orange { background: #fff7ed; color: #9a3412; border-color: #fed7aa; }

.course-card .meta { color: #6b7280; font-size: 0.9rem; }
.course-card .actions { display: flex; gap: 8px; flex-wrap: wrap; }
.course-card .actions .btn {
  border: 1px solid #e6e7e8; background: #fff; border-radius: 10px; padding: 6px 10px; cursor: pointer;
}
.course-card .actions .btn-primary {
  border-color: #c7d2fe; background: #e0e7ff; color: #1e3a8a; font-weight: 600;
}

/* Skeletons */
.skeleton {
  position: relative; min-height: 120px; overflow: hidden;
  background: linear-gradient(90deg,#f3f4f6 25%,#edeef1 37%,#f3f4f6 63%); background-size: 400% 100%;
  animation: ske 1.4s ease infinite; border-radius: 12px;
}
@keyframes ske { 0%{background-position: 100% 50%} 100%{background-position: 0 50%} }

/* Empty state */
.empty-state { text-align: center; padding: 40px 10px; }
.empty-state .empty-illustration { font-size: 44px; margin-bottom: 10px; }
.hidden { display: none !important; }

/* Profile page */
.profile-main .content-container{max-width:760px;}
.profile-card{margin-bottom:20px;}
.profile-head{display:flex; align-items:center; gap:16px; margin-bottom:24px;}
.profile-avatar{
  width:68px;
  height:68px;
  border-radius:18px;
  background:#fff7ed;
  color:var(--brand);
  font-size:28px;
  font-weight:700;
  display:grid;
  place-items:center;
  box-shadow:0 12px 28px rgba(249,115,22,.18);
}
.profile-name{margin:0; font-size:24px;}
.profile-list{display:grid; gap:18px 24px; grid-template-columns:repeat(auto-fit,minmax(220px,1fr));}
.profile-field dt{font-size:12px; text-transform:uppercase; letter-spacing:.35px; color:var(--muted); margin-bottom:4px;}
.profile-field dd{margin:0; font-weight:600; color:var(--ink); word-break:break-word;}
.profile-error{background:#fff3f3; border-color:#f5c6d6;}
.profile-error h2{margin-top:0;}
.profile-error button{margin-top:12px;}

/* Dialog (native <dialog>) */
.course-dialog::backdrop { background: rgba(0,0,0,0.3); }
.course-dialog { border: none; padding: 0; border-radius: 14px; width: min(640px, 92vw); }
.course-form { padding: 16px; display: grid; gap: 14px; }
.dialog-header { display: flex; align-items: center; justify-content: space-between; }
.icon-btn { border: none; background: transparent; cursor: pointer; font-size: 1.2rem; }
.form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.field { display: grid; gap: 6px; }
.field input, .field select {
  border: 1px solid #e6e7e8; border-radius: 8px; padding: 8px 10px; outline: none;
}
.dialog-actions { display: flex; justify-content: flex-end; gap: 10px; margin-top: 6px; }
.btn-secondary, .btn-primary {
  padding: 8px 12px; border-radius: 10px; border: 1px solid #e6e7e8; background: #fff; cursor: pointer;
}
.btn-primary { background: #1f4fd6; color: #fff; border-color: #1f4fd6; }
.btn-secondary:hover { background: #f3f4f6; }
.btn-primary:hover { filter: brightness(0.95); }

/* Course detail view */
.course-detail {
  margin-top: 18px;
  border: 1px solid #e6e7e8;
  border-radius: 16px;
  background: #fff;
  box-shadow: var(--shadow);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.course-detail__hero {
  padding: 24px;
  background: linear-gradient(135deg, #e6f7d9 0%, #d8f4ff 100%);
  border-bottom: 1px solid rgba(148, 163, 184, 0.3);
  display: grid;
  gap: 18px;
}

.course-detail__hero-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 10px;
}

.course-detail__status {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 999px;
  background: rgba(30, 64, 175, 0.14);
  color: #1e3a8a;
  font-weight: 600;
  font-size: 0.85rem;
}
.course-detail__status.is-draft {
  background: rgba(234, 179, 8, 0.18);
  color: #92400e;
}

.course-detail__hero-main {
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: 18px;
  align-items: center;
}

.course-detail__icon {
  width: 64px;
  height: 64px;
  border-radius: 18px;
  background: rgba(255, 255, 255, 0.65);
  display: grid;
  place-items: center;
  font-size: 28px;
  color: #1f2937;
  box-shadow: 0 10px 24px rgba(15, 23, 42, 0.12);
}

.course-detail__meta { min-width: 0; }
.course-detail__breadcrumb { font-size: 0.85rem; color: #475569; font-weight: 600; text-transform: uppercase; letter-spacing: 0.35px; }
.course-detail__title { margin: 4px 0 6px; font-size: 1.6rem; }
.course-detail__subtitle { margin: 0; color: #1f2937; font-weight: 500; }

.course-detail__search {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: rgba(255, 255, 255, 0.75);
  border-radius: 999px;
  padding: 6px 12px;
  border: 1px solid rgba(148, 163, 184, 0.45);
}
.course-detail__search input {
  border: none;
  background: transparent;
  outline: none;
  min-width: 180px;
}

.course-detail__body { padding: 24px; position: relative; }
.course-detail__loading,
.course-detail__error {
  display: grid;
  place-items: center;
  gap: 12px;
  min-height: 220px;
  text-align: center;
  color: var(--muted);
}

.course-detail__content { display: grid; gap: 26px; }

.course-block {
  background: #fff;
  border: 1px solid #e6e7e8;
  border-radius: 14px;
  padding: 18px;
  box-shadow: 0 8px 20px rgba(15, 23, 42, 0.05);
  display: grid;
  gap: 14px;
}
.course-block__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}
.course-block__header--tight { gap: 16px; }
.course-block__title-wrap { display: flex; align-items: center; gap: 10px; }
.course-block__header h4 { margin: 0; font-size: 1.05rem; }
.course-block__count { font-weight: 600; color: #475569; background: #eef2ff; border-radius: 999px; padding: 4px 10px; }
.course-block__action { white-space: nowrap; }
.course-block__empty { text-align: center; color: var(--muted); display: grid; gap: 10px; }

.resource-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 14px;
}

.resource-card {
  border: 1px solid #e2e8f0;
  border-radius: 12px;
  padding: 14px;
  display: grid;
  gap: 8px;
  background: #f8fafc;
  transition: transform .15s ease, box-shadow .15s ease;
}
.resource-card--link {
  cursor: pointer;
}
.resource-card--link:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 3px;
}
.resource-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 14px 24px rgba(15, 23, 42, 0.08);
}
.resource-card__top { display: flex; align-items: center; gap: 10px; }
.resource-card__icon {
  width: 34px;
  height: 34px;
  border-radius: 12px;
  background: #fff;
  display: grid;
  place-items: center;
  color: #1d4ed8;
}
.resource-card__kind { font-size: 0.75rem; color: #64748b; text-transform: uppercase; letter-spacing: 0.35px; font-weight: 600; }
.resource-card__title { margin: 0; font-weight: 600; }
.resource-card__meta { font-size: 0.85rem; color: #64748b; }
.resource-card__actions { display: flex; gap: 8px; }
.resource-card__actions a {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  color: #2563eb;
  text-decoration: none;
  font-weight: 600;
  font-size: 0.85rem;
  padding: 6px 10px;
  border-radius: 8px;
  border: 1px solid transparent;
  transition: background .15s ease, border-color .15s ease, color .15s ease;
}
.resource-card__actions a:hover,
.resource-card__actions a:focus-visible {
  background: #eef2ff;
  border-color: #c7d2fe;
  color: #1d4ed8;
}

/* === Feed toolbar (sort + subject) === */
#feed-toolbar{
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:flex-end;       /* right side */
  margin:0 0 12px 0;
}
#feed-toolbar select{
  border:1px solid var(--line);
  background:#fff;
  border-radius:10px;
  padding:6px 10px;
  height:36px;
  cursor:pointer;
  transition:border-color .15s ease, box-shadow .15s ease, background .15s ease;
}
#feed-toolbar select:hover{ border-color:#e0e2ef; background:#fafafa; }
#feed-toolbar select:focus{
  outline:none;
  border-color:var(--primary);
  box-shadow:0 0 0 3px rgba(106,90,205,.15);
}

/* Stack nicely on small screens */
@media (max-width:720px){
  #feed-toolbar{
    justify-content:stretch;
    flex-wrap:wrap;
  }
  #feed-toolbar select{
    flex:1 1 180px;
    min-width:160px;
  }
}

/* === Vote controls (icon buttons) === */
.vote-controls{
  display:inline-flex;
  align-items:center;
  gap:8px;
}
.vote-btn{
  border:1px solid var(--line);
  background:#fff;
  width:32px; height:32px;
  border-radius:10px;
  display:grid; place-items:center;
  cursor:pointer;
  transition:border-color .15s ease, background .15s ease, transform .1s ease;
}
.vote-btn:hover{ border-color:#c7d2fe; background:#eef2ff; transform:translateY(-1px); }
.vote-btn.is-active{ border-color:#a5b4fc; background:#e0e7ff; color:#1e3a8a; }
.vote-score{ min-width:2ch; text-align:center; font-weight:600; color:var(--ink); }


.loader {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  border: 4px solid rgba(99, 102, 241, 0.25);
  border-top-color: #6366f1;
  animation: spin 0.9s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

@media (max-width: 820px) {
  .course-detail__hero {
    padding: 20px;
  }
  .course-detail__hero-main {
    grid-template-columns: 1fr;
    justify-items: start;
  }
  .course-detail__search {
    width: 100%;
  }
  .course-detail__search input {
    width: 100%;
    min-width: 0;
  }
}

/* Media reader page */
.media-reader {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background: var(--bg);
}

.media-nav {
  border-bottom: 1px solid var(--line);
  box-shadow: var(--shadow);
  background: var(--card);
}

.media-nav .logo {
  display: flex;
  align-items: center;
  gap: 10px;
}

.media-nav .logo span {
  font-size: 18px;
  font-weight: 700;
}

.media-return {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-weight: 600;
}

.media-content {
  flex: 1;
  width: 100%;
  max-width: 1260px;
  margin: 0 auto;
  padding: 24px;
  box-sizing: border-box;
  display: flex;
  gap: 24px;
  align-items: flex-start;
  justify-content: center;
}

.media-details-trigger {
  display: none;
  align-items: center;
  gap: 8px;
  font-weight: 600;
  white-space: nowrap;
}

.media-details-trigger i {
  color: var(--primary);
}

.media-sidebar-close {
  display: none;
  align-self: flex-end;
  gap: 6px;
  font-weight: 600;
}

.media-sidebar-overlay {
  position: fixed;
  inset: 0;
  background: rgba(17, 24, 39, 0.45);
  backdrop-filter: blur(2px);
  z-index: 110;
}

.media-sidebar-overlay[hidden] {
  display: none;
}

body.media-sidebar-open {
  overflow: hidden;
}

.media-sidebar {
  width: 320px;
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.media-card {
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: 16px;
  box-shadow: var(--shadow);
  padding: 18px;
  display: grid;
  gap: 12px;
  min-width: 0;
}

.media-course {
  gap: 10px;
}

.media-title {
  margin: 0;
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--ink);
}

.media-breadcrumb,
.media-course__meta {
  margin: 0;
  font-size: 0.85rem;
  color: var(--muted);
}

.media-info dl {
  margin: 0;
  display: grid;
  gap: 12px;
  font-size: 0.95rem;
}

.media-info dt {
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.3px;
  color: var(--muted);
  margin-bottom: 2px;
}

.media-info dd {
  margin: 0;
  font-weight: 600;
  color: var(--ink);
  word-break: break-word;
}

.media-section-list {
  display: grid;
  gap: 12px;
}

.media-section-card {
  background: #f8fafc;
  border: 1px solid #e2e8f0;
  border-radius: 12px;
  padding: 14px;
  display: grid;
  gap: 10px;
  transition: box-shadow 0.2s ease, border-color 0.2s ease, transform 0.2s ease;
}

.media-section-card.is-active {
  border-color: #6366f1;
  box-shadow: 0 16px 30px rgba(99, 102, 241, 0.18);
  transform: translateY(-1px);
}

.media-section-card__header {
  display: grid;
  gap: 4px;
}

.media-section-card__header h3 {
  margin: 0;
  font-size: 1rem;
}

.media-section-card__meta {
  margin: 0;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.3px;
  color: #475569;
}

.media-section-card__description {
  margin: 0;
  font-size: 0.9rem;
  color: #475569;
}

.media-section-card__list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 10px;
}

.media-section-card__item {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  padding: 8px;
  border-radius: 10px;
  background: #fff;
  border: 1px solid transparent;
  transition: border-color 0.15s ease, background 0.15s ease;
}

.media-section-card__item:hover {
  border-color: #c7d2fe;
  background: #f8fafc;
}

.media-section-card__item:focus-within {
  border-color: #6366f1;
  background: #eef2ff;
}

.media-section-card__item.is-current {
  border-color: #6366f1;
  background: #eef2ff;
}

.media-section-card__icon {
  width: 32px;
  height: 32px;
  border-radius: 10px;
  background: #eef2ff;
  color: #4338ca;
  display: grid;
  place-items: center;
  flex-shrink: 0;
}

.media-section-card__link {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  flex: 1;
  color: var(--ink);
  font-weight: 600;
  text-decoration: none;
}

.media-section-card__link:hover {
  text-decoration: underline;
}

.media-section-card__link:focus-visible {
  outline: none;
}

.media-section-card__text {
  display: grid;
  gap: 4px;
}

.media-section-card__title {
  font-weight: 600;
  color: var(--ink);
}

.media-section-card__kind {
  font-size: 0.75rem;
  color: var(--muted);
}

.media-section-card__empty,
.media-section-empty {
  margin: 0;
  font-size: 0.9rem;
  color: var(--muted);
}

.media-stage {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.media-view {
  flex: 1;
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: 18px;
  box-shadow: var(--shadow);
  overflow: hidden;
  display: grid;
  place-items: center;
  min-height: 460px;
  position: relative;
}

.media-description p,
.media-fallback p {
  margin: 0;
  line-height: 1.6;
}

.media-fallback {
  border-left: 3px solid #6366f1;
}

.media-loading {
  display: grid;
  place-items: center;
  gap: 12px;
  text-align: center;
  color: var(--muted);
  font-size: 0.95rem;
}

.media-loading i {
  font-size: 1.6rem;
}

.media-error {
  display: grid;
  place-items: center;
  gap: 12px;
  padding: 36px;
  text-align: center;
  color: var(--bad);
  font-weight: 600;
}

.media-error i {
  font-size: 2rem;
}

.media-iframe {
  width: 100%;
  height: 100%;
  min-height: 600px;
  border: none;
  background: #fff;
}

.media-video {
  width: 100%;
  height: 100%;
  max-height: 600px;
  background: #000;
}

.media-audio {
  width: min(480px, 100%);
  margin: 24px auto;
}

.media-image {
  width: 100%;
  height: auto;
  max-height: 620px;
  object-fit: contain;
}

.media-placeholder {
  display: grid;
  place-items: center;
  gap: 12px;
  padding: 40px;
  text-align: center;
  color: var(--muted);
  font-size: 0.95rem;
}

.media-placeholder i {
  font-size: 2.2rem;
  color: var(--primary);
}

.media-article {
  padding: 24px;
  margin: 0 auto;
  max-width: 760px;
  line-height: 1.65;
  color: var(--ink);
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 18px 40px rgba(15, 23, 42, 0.08);
  word-break: break-word;
}

.media-article.media-markdown h1,
.media-article.media-markdown h2,
.media-article.media-markdown h3,
.media-article.media-markdown h4,
.media-article.media-markdown h5,
.media-article.media-markdown h6 {
  font-weight: 700;
  color: #111827;
  margin: 18px 0 10px;
}

.media-article.media-markdown h1 {
  font-size: 1.8rem;
}

.media-article.media-markdown h2 {
  font-size: 1.5rem;
}

.media-article.media-markdown h3 {
  font-size: 1.3rem;
}

.media-article.media-markdown p {
  margin: 12px 0;
}

.media-article.media-markdown ul,
.media-article.media-markdown ol {
  margin: 12px 0 12px 22px;
  padding: 0;
}

.media-article.media-markdown li + li {
  margin-top: 6px;
}

.media-article.media-markdown code {
  font-family: "JetBrains Mono", "Fira Code", "SFMono-Regular", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  background: #f1f5f9;
  color: #1e293b;
  padding: 2px 5px;
  border-radius: 6px;
  font-size: 0.95em;
}

.media-article.media-markdown pre {
  background: #0f172a;
  color: #e2e8f0;
  padding: 16px;
  border-radius: 12px;
  overflow-x: auto;
  margin: 18px 0;
  box-shadow: inset 0 0 0 1px rgba(15, 23, 42, 0.2);
}

.media-article.media-markdown pre code {
  background: transparent;
  color: inherit;
  padding: 0;
}

.media-article.media-markdown blockquote {
  border-left: 4px solid #6366f1;
  background: rgba(99, 102, 241, 0.08);
  margin: 16px 0;
  padding: 12px 16px;
  border-radius: 12px;
  color: #312e81;
}

.media-article.media-markdown table {
  width: 100%;
  border-collapse: collapse;
  margin: 16px 0;
  font-size: 0.95rem;
}

.media-article.media-markdown th,
.media-article.media-markdown td {
  border: 1px solid #e2e8f0;
  padding: 10px 12px;
  text-align: left;
}

.media-article.media-markdown th {
  background: #eef2ff;
  color: #312e81;
}

/* Student Dashboard — Todo list */
.todo-card {
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: 14px;
  box-shadow: var(--shadow);
  padding: 18px;
  display: grid;
  gap: 16px;
}

.todo-form {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 10px;
}

.todo-form .action-button {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  white-space: nowrap;
}

.todo-form input[type="text"] {
  flex: 1 1 220px;
  min-width: 200px;
  border: 1px solid var(--line);
  border-radius: 10px;
  padding: 10px 12px;
  background: #fff;
  transition: border-color .2s ease, box-shadow .2s ease;
}

.todo-form input[type="text"]:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(106, 90, 205, 0.15);
}

.todo-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 12px;
}

.todo-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 12px 14px;
  border: 1px solid var(--line);
  border-radius: 12px;
  background: #fff;
  box-shadow: 0 10px 24px rgba(15, 23, 42, 0.08);
}

.todo-item-body {
  display: flex;
  align-items: center;
  gap: 10px;
  flex: 1;
  min-width: 0;
}

.todo-toggle {
  width: 18px;
  height: 18px;
  accent-color: var(--primary);
  cursor: pointer;
}

.todo-toggle:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 3px;
}

.todo-item-text {
  font-size: 0.95rem;
  color: var(--ink);
  word-break: break-word;
}

.todo-item-text.is-done {
  text-decoration: line-through;
  color: var(--muted);
  opacity: 0.7;
}

.todo-item-actions {
  display: flex;
  align-items: center;
  gap: 8px;
}

.todo-item-actions button {
  border: 1px solid var(--line);
  border-radius: 10px;
  background: #fff;
  padding: 6px 10px;
  font-size: 0.75rem;
  font-weight: 600;
  cursor: pointer;
  transition: border-color .2s ease, background .2s ease, color .2s ease;
}

.todo-item-actions button:hover {
  border-color: #c7d2fe;
  background: #eef2ff;
  color: #3730a3;
}

.todo-item-actions button:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

.todo-item-actions .todo-delete:hover {
  border-color: #fecaca;
  background: #fef2f2;
  color: #b91c1c;
}

.todo-empty {
  border: 1px dashed var(--line);
  border-radius: 12px;
  padding: 14px 12px;
  text-align: center;
  color: var(--muted);
  background: rgba(106, 90, 205, 0.06);
}

.todo-empty.todo-empty--error {
  border-style: solid;
  border-color: rgba(224, 67, 67, 0.25);
  background: rgba(224, 67, 67, 0.12);
  color: var(--bad);
}

/* Student dashboard — Library */
.library-panel {
  margin-top: 18px;
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: 14px;
  box-shadow: var(--shadow);
  padding: 18px;
  min-height: 140px;
  display: grid;
  gap: 18px;
}

.library-loading,
.library-error,
.library-empty {
  display: grid;
  place-items: center;
  text-align: center;
  gap: 10px;
  color: var(--muted);
}

.library-loading {
  font-weight: 600;
}

.library-loading i {
  font-size: 20px;
  color: var(--primary);
}

.library-error {
  color: var(--bad);
  font-weight: 600;
  padding: 16px;
  border: 1px solid rgba(224, 67, 67, 0.3);
  border-radius: 12px;
  background: rgba(224, 67, 67, 0.08);
}

.library-empty__icon {
  font-size: 32px;
}

.library-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 16px;
}

.library-card {
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 14px;
  box-shadow: 0 10px 24px rgba(15, 23, 42, 0.08);
  padding: 16px;
  display: grid;
  gap: 12px;
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}

.library-card:hover {
  transform: translateY(-2px);
  border-color: #c7d2fe;
  box-shadow: 0 16px 32px rgba(79, 70, 229, 0.14);
}

.library-card__header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
}

.library-card__title {
  margin: 0;
  font-size: 1.05rem;
  font-weight: 700;
  color: var(--ink);
}

.library-card__badge {
  display: inline-flex;
  align-items: center;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 0.75rem;
  font-weight: 600;
  color: #3730a3;
  background: #eef2ff;
  border: 1px solid #c7d2fe;
  white-space: nowrap;
}

.library-card__meta {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 6px;
  font-size: 0.85rem;
  color: var(--muted);
}

.library-card__footer {
  display: flex;
  justify-content: flex-end;
}

.library-card__action {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  border-radius: 10px;
  border: 1px solid #c7d2fe;
  background: #eef2ff;
  color: #3730a3;
  font-weight: 600;
  text-decoration: none;
  transition: background .15s ease, color .15s ease, border-color .15s ease;
}

.library-card__action:hover,
.library-card__action:focus-visible {
  background: #3730a3;
  border-color: #3730a3;
  color: #fff;
}

/* Student dashboard — Homework */
.homework-panel {
  margin-top: 18px;
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: 14px;
  box-shadow: var(--shadow);
  padding: 18px;
  display: grid;
  gap: 18px;
}

.homework-loading,
.homework-error,
.homework-empty {
  display: grid;
  place-items: center;
  text-align: center;
  gap: 10px;
  color: var(--muted);
}

.homework-loading {
  font-weight: 600;
}

.homework-loading i {
  font-size: 20px;
  color: var(--primary);
}

.homework-error {
  color: var(--bad);
  font-weight: 600;
  padding: 16px;
  border: 1px solid rgba(224, 67, 67, 0.3);
  border-radius: 12px;
  background: rgba(224, 67, 67, 0.08);
}

.homework-retry {
  margin-top: 8px;
  padding: 8px 12px;
  border-radius: 10px;
  border: 1px solid #c7d2fe;
  background: #eef2ff;
  color: #3730a3;
  font-weight: 600;
  cursor: pointer;
  transition: background .15s ease, color .15s ease, border-color .15s ease;
}

.homework-retry:hover,
.homework-retry:focus-visible {
  background: #3730a3;
  border-color: #3730a3;
  color: #fff;
}

.homework-empty i {
  font-size: 28px;
  color: #16a34a;
}

.homework-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 18px;
}

.homework-card {
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 14px;
  box-shadow: 0 10px 24px rgba(15, 23, 42, 0.08);
  padding: 16px;
  display: grid;
  gap: 14px;
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
  word-break: break-word;
  overflow-wrap: anywhere;
}

.homework-card:hover {
  transform: translateY(-2px);
  border-color: #c7d2fe;
  box-shadow: 0 16px 32px rgba(79, 70, 229, 0.14);
}

.homework-card__header {
  display: flex;
  flex-wrap: wrap;
  align-items: flex-start;
  gap: 10px;
}

.homework-card__title {
  margin: 0;
  font-size: 1.05rem;
  font-weight: 700;
  color: var(--ink);
  flex: 1 1 100%;
}

.homework-card__meta {
  margin: 0;
  color: var(--muted);
  font-size: 0.85rem;
  line-height: 1.4;
  word-break: break-word;
  overflow-wrap: anywhere;
}

.homework-card__status {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 0.75rem;
  font-weight: 700;
  color: #3730a3;
  background: #eef2ff;
  border: 1px solid #c7d2fe;
  white-space: nowrap;
  text-transform: uppercase;
}

.homework-card__status[data-state='done'] {
  background: rgba(34, 197, 94, 0.12);
  border-color: rgba(34, 197, 94, 0.4);
  color: #15803d;
}

.homework-card__stats {
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--ink);
}

.homework-card__progress {
  position: relative;
  width: 100%;
  height: 8px;
  border-radius: 999px;
  background: #e2e8f0;
  overflow: hidden;
}

.homework-card__progress-fill {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  width: 0;
  border-radius: inherit;
  background: linear-gradient(90deg, #6366f1, #8b5cf6);
  transition: width .2s ease;
}

.homework-course-page {
  min-height: 100vh;
  background: var(--bg);
  display: flex;
  flex-direction: column;
}

.homework-course__nav {
  background: var(--card);
  border-bottom: 1px solid var(--line);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 24px;
}

.homework-course__nav-actions {
  display: flex;
  align-items: center;
  gap: 12px;
}

.homework-detail {
  flex: 1;
  max-width: 960px;
  margin: 32px auto 48px;
  width: min(960px, 92vw);
  display: grid;
  gap: 28px;
}

.homework-detail__header {
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 18px;
  padding: 24px;
  box-shadow: 0 12px 32px rgba(15, 23, 42, 0.08);
  display: grid;
  gap: 12px;
}

.homework-detail__breadcrumb {
  margin: 0;
  font-size: 0.85rem;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-weight: 600;
}

.homework-detail__title {
  margin: 0;
  font-size: 1.8rem;
  color: var(--ink);
}

.homework-detail__meta {
  margin: 0;
  color: var(--muted);
  font-size: 0.95rem;
}

.homework-detail__summary {
  display: flex;
  align-items: center;
  gap: 18px;
}

.homework-detail__count {
  display: flex;
  flex-direction: column;
  font-weight: 700;
  font-size: 1.2rem;
  color: var(--ink);
}

.homework-detail__count small {
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--muted);
}

.homework-detail__progress {
  flex: 1;
  height: 10px;
  border-radius: 999px;
  background: #e2e8f0;
  overflow: hidden;
}

.homework-detail__progress-fill {
  height: 100%;
  width: 0;
  border-radius: inherit;
  background: linear-gradient(90deg, #6366f1, #8b5cf6);
  transition: width .25s ease;
}

.homework-detail__body {
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 18px;
  box-shadow: 0 10px 30px rgba(15, 23, 42, 0.08);
  padding: 24px;
  display: grid;
  gap: 24px;
}

.homework-detail__loading,
.homework-detail__error,
.homework-detail__empty {
  display: grid;
  place-items: center;
  gap: 12px;
  text-align: center;
  color: var(--muted);
}

.homework-detail__error {
  color: var(--bad);
  font-weight: 600;
}

.homework-detail__retry {
  border: 1px solid #c7d2fe;
  background: #eef2ff;
  border-radius: 999px;
  padding: 8px 16px;
  font-weight: 600;
  color: #3730a3;
  cursor: pointer;
  transition: background .15s ease, border-color .15s ease, color .15s ease;
}

.homework-detail__retry:hover,
.homework-detail__retry:focus-visible {
  background: #3730a3;
  border-color: #3730a3;
  color: #fff;
}

.exercise-list {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 18px;
}

.exercise-card {
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 20px;
  background: #f8fafc;
  display: grid;
  gap: 14px;
}

.exercise-card__header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
}

.exercise-card__title {
  margin: 0;
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--ink);
}

.exercise-card__status {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 12px;
  border-radius: 999px;
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  border: 1px solid rgba(99, 102, 241, 0.4);
  background: rgba(99, 102, 241, 0.12);
  color: #3730a3;
}

.exercise-card__status[data-state='done'] {
  border-color: rgba(34, 197, 94, 0.35);
  background: rgba(34, 197, 94, 0.14);
  color: #15803d;
}

.exercise-card__meta {
  margin: 0;
  font-size: 0.85rem;
  color: var(--muted);
}

.exercise-card__actions {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.exercise-card__action {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  border-radius: 10px;
  border: 1px solid #c7d2fe;
  background: #eef2ff;
  color: #3730a3;
  font-weight: 600;
  padding: 8px 14px;
  text-decoration: none;
  transition: background .15s ease, border-color .15s ease, color .15s ease;
}

.exercise-card__action:hover,
.exercise-card__action:focus-visible {
  background: #3730a3;
  border-color: #3730a3;
  color: #fff;
}

.exercise-card__action--disabled {
  cursor: not-allowed;
  opacity: 0.6;
}

.exercise-card__submission {
  background: #fff;
  border-radius: 14px;
  padding: 14px;
  border: 1px dashed #cbd5f5;
  display: grid;
  gap: 12px;
}

.exercise-card__submission-info {
  margin: 0;
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--ink);
  display: flex;
  align-items: center;
  gap: 8px;
}

.exercise-card__submission-info i {
  color: #6366f1;
}

.exercise-card__submission-link {
  color: #3730a3;
  font-weight: 600;
  text-decoration: none;
}

.exercise-card__submission-link:hover,
.exercise-card__submission-link:focus-visible {
  text-decoration: underline;
}

.exercise-card__form {
  display: grid;
  gap: 10px;
}

.exercise-card__file-input {
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;
}

.exercise-card__file-button {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 14px;
  border-radius: 10px;
  background: #eef2ff;
  border: 1px solid #c7d2fe;
  color: #3730a3;
  font-weight: 600;
  cursor: pointer;
  transition: background .15s ease, border-color .15s ease, color .15s ease;
}

.exercise-card__file-button:hover,
.exercise-card__file-button:focus-within {
  background: #3730a3;
  border-color: #3730a3;
  color: #fff;
}

.exercise-card__file-name {
  font-size: 0.85rem;
  color: var(--muted);
  word-break: break-word;
}

.exercise-card__submit {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  border-radius: 10px;
  border: none;
  background: #6366f1;
  color: #fff;
  font-weight: 600;
  cursor: pointer;
  transition: transform .1s ease, box-shadow .1s ease;
}

.exercise-card__submit:hover,
.exercise-card__submit:focus-visible {
  transform: translateY(-1px);
  box-shadow: 0 10px 24px rgba(99, 102, 241, 0.25);
}

.exercise-card__submit.is-loading {
  opacity: 0.7;
  cursor: wait;
}

@media (max-width: 720px) {
  .homework-detail {
    margin-top: 20px;
  }

  .homework-detail__summary {
    flex-direction: column;
    align-items: flex-start;
  }

  .exercise-card__actions {
    flex-direction: column;
    align-items: flex-start;
  }

  .exercise-card__submission {
    padding: 12px;
  }
}

.homework-card__footer {
  display: flex;
  justify-content: flex-end;
}

.homework-card__action {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  border-radius: 10px;
  border: 1px solid #c7d2fe;
  background: #eef2ff;
  color: #3730a3;
  font-weight: 600;
  text-decoration: none;
  transition: background .15s ease, color .15s ease, border-color .15s ease;
}

.homework-card__action:hover,
.homework-card__action:focus-visible {
  background: #3730a3;
  border-color: #3730a3;
  color: #fff;
}

.library-breadcrumb {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 10px;
  justify-content: space-between;
}

.library-breadcrumb__btn {
  border: 1px solid var(--line);
  background: #f8fafc;
  color: #475569;
  padding: 6px 12px;
  border-radius: 10px;
  font-weight: 600;
  cursor: pointer;
  transition: background .15s ease, color .15s ease, border-color .15s ease;
}

.library-breadcrumb__btn:hover,
.library-breadcrumb__btn:focus-visible {
  background: #eef2ff;
  border-color: #c7d2fe;
  color: #3730a3;
}

.library-content {
  display: grid;
  gap: 18px;
}

.library-meta {
  margin: 0;
  color: var(--muted);
  font-size: 0.9rem;
}

.subject-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
}

.subject-card {
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 14px;
  padding: 18px;
  display: grid;
  gap: 12px;
  box-shadow: 0 10px 24px rgba(15, 23, 42, 0.08);
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}

.subject-card:hover {
  transform: translateY(-2px);
  border-color: #c7d2fe;
  box-shadow: 0 16px 32px rgba(79, 70, 229, 0.14);
}

.subject-card__title {
  margin: 0;
  font-size: 1.1rem;
  font-weight: 700;
}

.subject-card__meta {
  margin: 0;
  color: var(--muted);
  font-size: 0.9rem;
}

.subject-card__action {
  justify-self: start;
  border: 1px solid #c7d2fe;
  background: #eef2ff;
  color: #3730a3;
  padding: 8px 14px;
  border-radius: 10px;
  font-weight: 600;
  cursor: pointer;
  transition: background .15s ease, color .15s ease, border-color .15s ease;
}

.subject-card__action:hover,
.subject-card__action:focus-visible {
  background: #3730a3;
  border-color: #3730a3;
  color: #fff;
}

.library-courses {
  display: grid;
  gap: 16px;
}

.library-detail {
  display: grid;
  gap: 16px;
}

.library-detail__header {
  display: grid;
  gap: 6px;
}

.library-detail__title {
  margin: 0;
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--ink);
}

.library-detail__meta {
  margin: 0;
  font-size: 0.9rem;
  color: var(--muted);
}

.library-detail__body {
  display: grid;
  gap: 12px;
}

.library-inline-message {
  border: 1px dashed var(--line);
  border-radius: 12px;
  padding: 16px;
  text-align: center;
  color: var(--muted);
  background: rgba(106, 90, 205, 0.08);
}

.library-sections {
  border-top: 1px solid var(--line);
  margin-top: 14px;
  padding-top: 14px;
  display: grid;
  gap: 14px;
}

.library-sections__loading,
.library-sections__error,
.library-sections__empty {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--muted);
  font-size: 0.9rem;
}

.library-sections__content {
  display: grid;
  gap: 16px;
}

.library-section {
  background: #f8fafc;
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: 14px;
  display: grid;
  gap: 12px;
}

.library-section__title {
  margin: 0;
  font-size: 1rem;
  font-weight: 700;
  color: var(--ink);
}

.library-section__empty {
  margin: 0;
  color: var(--muted);
  font-size: 0.9rem;
}

@media (max-width: 1105px) {
  .media-content {
    padding: 18px;
    gap: 18px;
    align-items: stretch;
    max-width: 100%;
  }

  .media-details-trigger {
    display: inline-flex;
  }

  .media-stage {
    width: 100%;
  }

  .media-sidebar {
    display: none;
    position: fixed;
    top: 84px;
    right: 18px;
    left: 18px;
    bottom: auto;
    width: auto;
    max-width: 480px;
    margin: 0 auto;
    flex-direction: column;
    gap: 18px;
    padding: 20px 18px 28px;
    background: var(--bg);
    box-shadow: 0 18px 40px rgba(15, 23, 42, 0.26);
    z-index: 120;
    max-height: calc(100vh - 140px);
    overflow-y: auto;
    border-radius: 18px;
    border: 1px solid var(--line);
  }

  .media-sidebar.is-visible {
    display: flex;
  }

  .media-sidebar-close {
    display: inline-flex;
    margin-left: auto;
  }
}

@media (max-width: 720px) {
  .media-content {
    padding: 18px;
    gap: 18px;
  }

  .media-view {
    min-height: 360px;
  }

  .media-sidebar {
    left: 12px;
    right: 12px;
    top: 76px;
    max-width: none;
    padding: 18px 16px 24px;
  }
}
@media (max-width: 800px) {
  .form-grid { grid-template-columns: 1fr; }
  .search-wrap input { width: 150px; }
}

@media (max-width: 720px) {
  .todo-card {
    padding: 16px;
    gap: 14px;
  }

  .todo-item {
    align-items: flex-start;
    flex-direction: column;
  }

  .todo-item-actions {
    width: 100%;
    justify-content: flex-end;
  }
}

/* Modal (notify.confirm) */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(15, 17, 23, 0.58);
  display: grid;
  place-items: center;
  z-index: 1100;
}

.modal {
  background: var(--card);
  border-radius: 14px;
  padding: 24px 26px;
  box-shadow: var(--shadow);
  max-width: 360px;
  width: min(360px, 92vw);
  display: grid;
  gap: 14px;
  color: var(--ink);
}

.modal-title {
  margin: 0;
  font-size: 18px;
  font-weight: 700;
}

.modal-body {
  margin: 0;
  color: var(--muted);
  line-height: 1.5;
}

.modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
}

.modal-actions .is-muted,
.modal-actions .is-primary {
  border-radius: 10px;
  padding: 8px 16px;
  font-weight: 600;
  cursor: pointer;
}

.modal-actions .is-muted {
  border: 1px solid var(--line);
  background: #f7f7fb;
  color: var(--muted);
}

.modal-actions .is-muted:hover,
.modal-actions .is-muted:focus-visible {
  background: #eef0ff;
  color: var(--ink);
  outline: none;
}

.modal-actions .is-primary {
  border: none;
  background: var(--bad);
  color: #fff;
  box-shadow: 0 8px 18px rgba(224, 67, 67, 0.25);
}

.modal-actions .is-primary:hover,
.modal-actions .is-primary:focus-visible {
  background: #d93737;
  outline: none;
}

@media (max-width: 520px) {
  .modal {
    width: min(92vw, 360px);
    padding: 20px;
  }
}

/* Toast notifications */
.toast-container {
  position: fixed;
  right: 24px;
  bottom: 24px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  z-index: 1050;
  pointer-events: none;
}

.toast {
  min-width: 260px;
  max-width: 360px;
  background: var(--card);
  border: 1px solid var(--line);
  border-left: 4px solid var(--primary);
  border-radius: 12px;
  box-shadow: var(--shadow);
  padding: 12px 16px;
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  gap: 12px;
  color: var(--ink);
  opacity: 0;
  transform: translateY(10px);
  transition: opacity .18s ease, transform .18s ease;
  pointer-events: auto;
}

.toast-show {
  opacity: 1;
  transform: translateY(0);
}

.toast-message {
  font-weight: 600;
  font-size: 14px;
}

.toast-close {
  border: none;
  background: transparent;
  color: var(--muted);
  font-size: 18px;
  line-height: 1;
  cursor: pointer;
  padding: 4px;
  border-radius: 6px;
}

.toast-close:hover,
.toast-close:focus-visible {
  background: rgba(0,0,0,0.06);
  color: var(--ink);
  outline: none;
}

.toast-success {
  border-left-color: var(--good);
  color: var(--good);
}

.toast-error {
  border-left-color: var(--bad);
  color: var(--bad);
}

.toast-info {
  border-left-color: var(--primary);
}

.toast-warning {
  border-left-color: #f97316;
  color: #c2410c;
}

/* Exam calendar */
.exam-calendar {
  display: grid;
  grid-template-columns: minmax(0, 2fr) minmax(0, 1.15fr);
  gap: 16px;
  margin-top: 18px;
  align-items: start;
}

.exam-calendar .calendar-panel {
  display: grid;
  gap: 16px;
}

.exam-calendar .calendar-events {
  display: grid;
  gap: 12px;
}

.calendar-controls {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.calendar-current {
  font-weight: 600;
  font-size: 1rem;
  text-transform: capitalize;
}

.calendar-nav {
  border: 1px solid var(--line);
  background: #fff;
  color: var(--primary-ink);
  width: 34px;
  height: 34px;
  border-radius: 10px;
  display: grid;
  place-items: center;
  cursor: pointer;
  transition: background 0.15s ease, border 0.15s ease, color 0.15s ease;
}

.calendar-nav:hover,
.calendar-nav:focus-visible {
  background: var(--accent);
  border-color: #dfe1ff;
  color: var(--primary);
  outline: none;
}

.calendar-grid {
  display: grid;
  grid-template-columns: repeat(7, minmax(0, 1fr));
  gap: 6px;
}

.calendar-cell {
  position: relative;
  display: grid;
  place-items: center;
  min-height: 56px;
  border-radius: 10px;
  font-weight: 500;
  color: var(--ink);
  background: #fff;
  border: 1px solid var(--line);
}

.calendar-cell--head {
  min-height: auto;
  padding: 6px 0;
  font-size: 0.75rem;
  text-transform: uppercase;
  font-weight: 600;
  color: var(--muted);
  background: transparent;
  border: none;
}

.calendar-cell--muted {
  color: var(--muted);
  background: #fafafa;
}

.calendar-cell--today {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(106, 90, 205, 0.15);
}

.calendar-cell[data-has-event="true"]::after {
  content: "";
  position: absolute;
  bottom: 8px;
  left: 50%;
  transform: translateX(-50%);
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--primary-ink);
}

.calendar-legend {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  font-size: 0.85rem;
  color: var(--muted);
}

.calendar-legend-item {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.calendar-dot {
  display: inline-block;
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: var(--primary-ink);
}

.calendar-dot--today {
  background: transparent;
  border: 2px solid var(--primary);
}

.calendar-events h3 {
  margin: 0;
  font-size: 1rem;
}

.calendar-events-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: 10px;
}

.calendar-events-empty {
  color: var(--muted);
  font-style: italic;
}

.calendar-event-item {
  border: 1px solid var(--line);
  border-radius: 10px;
  padding: 10px 12px;
  background: #f9f9ff;
  display: grid;
  gap: 4px;
}

/* Inbox */
.inbox {
  margin-top: 18px;
  display: grid;
  grid-template-columns: minmax(0, 280px) minmax(0, 1fr);
  gap: 20px;
  align-items: stretch;
}

.inbox-panel {
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: 16px;
  box-shadow: var(--shadow);
  padding: 18px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  min-height: 420px;
}

.inbox-panel--teachers {
  max-height: 560px;
}

.inbox-panel-header {
  display: grid;
  gap: 4px;
}

.inbox-title {
  margin: 0;
  font-size: 1rem;
  font-weight: 600;
}

.inbox-subtitle {
  margin: 0;
  font-size: 0.85rem;
}

.inbox-teacher-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 10px;
  overflow-y: auto;
}

.inbox-teacher-item {
  border: 1px solid var(--line);
  border-radius: 14px;
  background: #fafbff;
  transition: border-color .2s ease, background .2s ease, transform .15s ease;
}

.inbox-teacher-item.is-active {
  border-color: #c7d2fe;
  background: #eef2ff;
  box-shadow: 0 12px 24px rgba(79, 70, 229, 0.12);
}

.inbox-teacher-button {
  width: 100%;
  border: none;
  background: transparent;
  padding: 12px 14px;
  display: grid;
  gap: 6px;
  text-align: left;
  cursor: pointer;
}

.inbox-teacher-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
}

.inbox-teacher-name {
  font-weight: 600;
  color: var(--ink);
}

.inbox-teacher-time {
  font-size: 0.75rem;
  color: var(--muted);
}

.inbox-teacher-preview {
  margin: 0;
  font-size: 0.85rem;
  color: var(--muted);
  line-height: 1.4;
}

.inbox-empty {
  margin: auto;
  display: grid;
  place-items: center;
  gap: 10px;
  padding: 24px;
  text-align: center;
  color: var(--muted);
}

.inbox-empty i {
  font-size: 1.8rem;
  color: var(--primary);
}

.inbox-empty--error i {
  color: var(--bad);
}

.inbox-status {
  margin: auto;
  display: grid;
  place-items: center;
  gap: 10px;
  padding: 24px;
  text-align: center;
  color: var(--muted);
}

.inbox-status i {
  font-size: 1.6rem;
  color: var(--primary);
}

.dashboard-summary {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  margin-top: 20px;
}

.summary-left {
  flex: 2;
  display: grid;
  gap: 20px;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
}

.summary-right {
  flex: 1;
  min-width: 260px;
}

.summary-card {
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 18px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  box-shadow: var(--shadow);
}

.summary-card__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.summary-title {
  font-weight: 600;
  font-size: 1rem;
  color: var(--ink);
}

.summary-meta {
  font-size: 0.8rem;
  color: var(--muted);
}

.summary-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 10px;
}

.summary-item-title {
  margin: 0;
  font-weight: 600;
  color: var(--ink);
}

.summary-item-meta {
  margin: 0;
  font-size: 0.85rem;
  color: var(--muted);
}

.summary-empty {
  font-size: 0.9rem;
  color: var(--muted);
}

.summary-footer {
  margin-top: auto;
}

.summary-link {
  font-size: 0.85rem;
  color: var(--primary-ink);
  text-decoration: none;
  font-weight: 600;
}

.summary-link:hover {
  text-decoration: underline;
}

.classmates-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.classmate-row {
  display: flex;
  align-items: center;
  gap: 12px;
}

.classmate-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: #f3f4ff;
  color: var(--primary-ink);
  display: grid;
  place-items: center;
  font-weight: 700;
  flex: 0 0 36px;
}

.classmate-info-title {
  margin: 0;
  font-weight: 600;
  color: var(--ink);
}

.classmate-info-meta {
  margin: 2px 0 0;
  font-size: 0.75rem;
  color: var(--muted);
}

.summary-tag {
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--primary-ink);
}

@media (max-width: 960px) {
  .dashboard-summary {
    flex-direction: column;
  }

  .summary-right {
    width: 100%;
  }
}

@media (max-width: 640px) {
  .summary-left {
    grid-template-columns: 1fr;
  }
}

.inbox-conversation-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
  padding-bottom: 6px;
  border-bottom: 1px solid rgba(99, 102, 241, 0.12);
}

.inbox-conversation-title {
  margin: 0;
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--ink);
}

.inbox-conversation-meta {
  margin: 0;
  font-size: 0.85rem;
}

.inbox-messages {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 12px;
  overflow-y: auto;
  padding: 6px 4px;
}

.inbox-message {
  max-width: 80%;
  padding: 12px 14px;
  border-radius: 14px;
  position: relative;
  display: grid;
  gap: 6px;
  line-height: 1.45;
}

.inbox-message time {
  font-size: 0.75rem;
  color: var(--muted);
  justify-self: end;
}

.inbox-message--me {
  margin-left: auto;
  background: #6366f1;
  color: #fff;
  box-shadow: 0 10px 24px rgba(99, 102, 241, 0.35);
}

.inbox-message--teacher {
  margin-right: auto;
  background: #f3f4ff;
  border: 1px solid #dfe1ff;
}

.inbox-composer {
  display: grid;
  gap: 10px;
  border-top: 1px solid rgba(99, 102, 241, 0.12);
  padding-top: 12px;
}

.inbox-composer textarea {
  width: 100%;
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: 10px 12px;
  resize: vertical;
  min-height: 60px;
  font: inherit;
}

.inbox-composer textarea:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.15);
}

.inbox-send {
  justify-self: flex-end;
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

@media (max-width: 980px) {
  .inbox {
    grid-template-columns: 1fr;
  }

  .inbox-panel {
    min-height: auto;
  }

  .inbox-panel--teachers {
    order: 2;
  }

  .inbox-panel--conversation {
    order: 1;
  }

  .inbox-message {
    max-width: 100%;
  }
}

.calendar-event-item time {
  font-weight: 600;
  font-size: 0.9rem;
  color: var(--primary-ink);
}

.calendar-event-item span {
  font-size: 0.9rem;
}

.calendar-event-meta {
  color: var(--muted);
  font-size: 0.85rem;
}

.calendar-event-desc {
  font-size: 0.9rem;
}

@media (max-width: 920px) {
  .exam-calendar {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 600px) {
  .toast-container {
    right: 12px;
    left: 12px;
    bottom: 12px;
    align-items: stretch;
  }

  .toast {
    max-width: none;
  }
}


/*-----------------------------------------TEACHER CSS----------------------------------------------------------*/
/* --- Mes Cours — Reddit-inspired clean UI ------------------------------- */
.courses-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
  margin-bottom: 12px;
}
.courses-header .left h2 { margin: 0; }
.courses-header .meta { margin-top: 2px; font-size: 0.9rem; }

.actions-wrap {
  display: flex; align-items: center; gap: 10px; flex-wrap: wrap;
}

/* Search */
.search-wrap {
  display: inline-flex; align-items: center; gap: 8px;
  background: #f6f7f8; border: 1px solid #e6e7e8;
  padding: 6px 10px; border-radius: 999px;
}
.search-wrap input {
  border: none; background: transparent; outline: none; width: 220px;
}
.search-wrap i { color: #6b7280; }

/* Segmented control */
.segmented {
  display: inline-flex; border: 1px solid #e6e7e8; border-radius: 999px; overflow: hidden; background: #fff;
}
.segmented.small .segmented-item { padding: 6px 10px; font-size: 0.9rem; }
.segmented-item { border: none; background: transparent; padding: 8px 14px; cursor: pointer; }
.segmented-item.active { background: #e9eefb; color: #1f4fd6; font-weight: 600; }

/* Sort select */
.select-wrap {
  display: inline-flex; align-items: center; gap: 8px;
  background: #fff; border: 1px solid #e6e7e8; border-radius: 10px; padding: 6px 10px;
}
.select-wrap select { border: none; background: transparent; outline: none; }

/* View toggle */
.view-toggle { display: inline-flex; border: 1px solid #e6e7e8; border-radius: 10px; overflow: hidden; }
.view-btn { border: none; background: #fff; padding: 6px 10px; cursor: pointer; }
.view-btn.active { background: #f2f3f5; }

/* Grid/List containers */
.course-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 14px; }
.course-list { display: flex; flex-direction: column; gap: 10px; }

/* Course card */
.course-card {
  background: #fff; border: 1px solid #e6e7e8; border-radius: 12px; padding: 14px;
  box-shadow: 0 1px 2px rgba(0,0,0,0.03); display: grid; gap: 8px;
}
.course-card .top { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
.course-card .title { display: flex; align-items: center; gap: 8px; font-weight: 700; }
.badge {
  display: inline-flex; align-items: center; gap: 6px;
  font-size: 0.75rem; padding: 2px 8px; border-radius: 999px;
  border: 1px solid #e6e7e8; background: #f8fafc; color: #475569;
}
.badge.green  { background: #ecfdf5; color: #065f46; border-color: #a7f3d0; }
.badge.orange { background: #fff7ed; color: #9a3412; border-color: #fed7aa; }

.course-card .meta { color: #6b7280; font-size: 0.9rem; }
.course-card .actions { display: flex; gap: 8px; flex-wrap: wrap; }
.course-card .actions .btn {
  border: 1px solid #e6e7e8; background: #fff; border-radius: 10px; padding: 6px 10px; cursor: pointer;
}
.course-card .actions .btn-primary {
  border-color: #c7d2fe; background: #e0e7ff; color: #1e3a8a; font-weight: 600;
}

/* Skeletons */
.skeleton {
  position: relative; min-height: 120px; overflow: hidden;
  background: linear-gradient(90deg,#f3f4f6 25%,#edeef1 37%,#f3f4f6 63%); background-size: 400% 100%;
  animation: ske 1.4s ease infinite; border-radius: 12px;
}
@keyframes ske { 0%{background-position: 100% 50%} 100%{background-position: 0 50%} }

/* Empty state */
.empty-state { text-align: center; padding: 40px 10px; }
.empty-state .empty-illustration { font-size: 44px; margin-bottom: 10px; }
.hidden { display: none !important; }

/* Dialog (native <dialog>) */
.course-dialog::backdrop { background: rgba(0,0,0,0.3); }
.course-dialog { border: none; padding: 0; border-radius: 14px; width: min(640px, 92vw); }
.course-form { padding: 16px; display: grid; gap: 14px; }
.dialog-header { display: flex; align-items: center; justify-content: space-between; }
.icon-btn { border: none; background: transparent; cursor: pointer; font-size: 1.2rem; }
.form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.field { display: grid; gap: 6px; }
.field input, .field select {
  border: 1px solid #e6e7e8; border-radius: 8px; padding: 8px 10px; outline: none;
}
.dialog-actions { display: flex; justify-content: flex-end; gap: 10px; margin-top: 6px; }
.btn-secondary, .btn-primary {
  padding: 8px 12px; border-radius: 10px; border: 1px solid #e6e7e8; background: #fff; cursor: pointer;
}
.btn-primary { background: #1f4fd6; color: #fff; border-color: #1f4fd6; }
.btn-secondary:hover { background: #f3f4f6; }
.btn-primary:hover { filter: brightness(0.95); }

/* Responsive */
@media (max-width: 800px) {
  .form-grid { grid-template-columns: 1fr; }
  .search-wrap input { width: 150px; }
}
