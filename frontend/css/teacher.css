/* =========================================================
   ClicaEd â€” Teacher Dashboard (Dark)
   ========================================================= */

/* ---------- Design tokens ---------- */
:root{
  --bg:        #0b0f19;
  --bg-2:      #0f1422;
  --surface:   #111828;
  --surface-2: #141c2e;
  --elev:      #172036;
  --card:      #0f1627;

  --text:      #e6ecff;
  --muted:     #9ba7c7;
  --line:      #253355;

  --brand:     #5b8cff;     /* primary */
  --brand-2:   #7aa2ff;     /* hover */
  --accent:    #00d1b2;     /* success / confirm */
  --warn:      #ffcc66;     /* warning */
  --danger:    #ff6b6b;     /* danger */

  --focus:     #00d1b2;
  --shadow:    0 10px 30px rgba(0,0,0,.35), 0 2px 8px rgba(0,0,0,.25);

  --radius-s:  10px;
  --radius:    14px;
  --radius-xl: 18px;

  --font:      system-ui, -apple-system, Segoe UI, Roboto, Inter, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  --mono:      ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;

  --sp-1: .25rem;
  --sp-2: .5rem;
  --sp-3: .75rem;
  --sp-4: 1rem;
  --sp-5: 1.25rem;
  --sp-6: 1.5rem;
  --sp-8: 2rem;
}

/* ---------- Base ---------- */
*{box-sizing:border-box}
html,body{height:100%}
html{scroll-behavior:smooth}
body{
  margin:0;
  font-family:var(--font);
  color:var(--text);
  background: radial-gradient(1200px 900px at 70% -200px,#16203a 0%, transparent 60%) , var(--bg);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

img{max-width:100%;display:block}
a{color:inherit;text-decoration:none}
h1,h2,h3,h4{margin:0 0 var(--sp-4)}
h1{font-size:2rem}
h2{font-size:1.5rem}
h3{font-size:1.25rem}
h4{font-size:1.1rem}

.hidden{display:none !important}
.muted{color:var(--muted)}
.sr-only{
  position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;
  clip:rect(0,0,0,0);white-space:nowrap;border:0;
}

/* ---------- Header ---------- */
.header{
  display:flex;align-items:center;justify-content:space-between;
  gap:var(--sp-4);
  padding:var(--sp-4) var(--sp-6);
  background:linear-gradient(180deg, rgba(17,24,40,.85), rgba(17,24,40,.6));
  backdrop-filter: blur(6px);
  border-bottom:1px solid var(--line);
  position:sticky;top:0;z-index:20;
}
.header .logo{display:flex;align-items:center;gap:.6rem;font-weight:700;letter-spacing:.3px}
.header .logo img{width:28px;height:28px}
.header .mobile-nav-toggle{
  display:inline-grid;place-items:center;width:40px;height:40px;border-radius:10px;
  background:var(--surface-2);border:1px solid var(--line);color:var(--text);
}
.header .mobile-nav-toggle:hover{background:var(--elev)}
.header .search-bar{
  flex:1;max-width:720px;display:flex;align-items:center;
}
.header .search-bar input{
  width:100%;padding:.8rem 1rem;border-radius:12px;border:1px solid var(--line);
  background:var(--surface-2);color:var(--text);outline:none;
}
.header .search-bar input::placeholder{color:#91a0c7}
.header .search-bar input:focus{border-color:var(--brand)}
.header .user-menu{display:flex;align-items:center;gap:var(--sp-3)}
.user-avatar{
  display:grid;place-items:center;width:36px;height:36px;border-radius:50%;
  background:linear-gradient(135deg,#253a72,#1d2b50);border:1px solid var(--line);
  font-weight:700;color:#d8e1ff;
}

/* ---------- Layout ---------- */
.main-container{display:flex;gap:var(--sp-6);padding:var(--sp-6)}
.left-sidebar{
  width:240px;flex:0 0 240px;
  background:var(--surface);border:1px solid var(--line);border-radius:var(--radius);
  padding:var(--sp-4);height:calc(100dvh - 120px);position:sticky;top:88px;overflow:auto;
}
.sidebar-item{
  display:flex;align-items:center;gap:.75rem;
  padding:.75rem .9rem;margin-bottom:.5rem;border-radius:12px;
  color:var(--text);border:1px solid transparent;
}
.sidebar-item .sidebar-icon{opacity:.9}
.sidebar-item:hover{background:var(--surface-2);border-color:var(--line)}
.sidebar-item.active{background:linear-gradient(135deg,#15203a,#10182b);border-color:var(--line)}

.centered-content{flex:1;display:flex;justify-content:center}
.content-container{width:min(1280px,100%);display:flex}
.content-area{flex:1}

/* ---------- Common controls ---------- */
.btn-primary,.btn-secondary,.icon-btn,.link-btn{
  border:1px solid var(--line);background:var(--surface-2);color:var(--text);
  border-radius:12px;padding:.65rem .9rem;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;
  transition:transform .08s ease, background .2s ease, border-color .2s ease, box-shadow .2s ease;
}
.btn-primary{background:linear-gradient(180deg,var(--brand),#4779ff);border-color:#3c63cf;color:#fff}
.btn-primary:hover{filter:brightness(1.08)}
.btn-secondary:hover{background:var(--elev)}
.icon-btn{padding:.45rem .55rem;border-radius:10px}
.icon-btn:hover{background:var(--elev)}
.link-btn{
  background:transparent;border:1px dashed var(--line);color:var(--muted);
  padding:.5rem .75rem;border-radius:10px;
}
.link-btn:hover{border-color:var(--brand);color:#cfe1ff}
.small{padding:.45rem .65rem;font-size:.92rem}

:focus-visible{
  outline:2px solid var(--focus);outline-offset:2px;border-radius:12px;
}

/* tags, chips */
.chips{display:flex;gap:.5rem;flex-wrap:wrap}
.chip{padding:.35rem .6rem;border-radius:999px;background:var(--surface-2);border:1px solid var(--line);font-size:.88rem}

/* ---------- Courses header / toolbar ---------- */
.courses-header{
  display:flex;align-items:end;justify-content:space-between;gap:var(--sp-6);
  margin-bottom:var(--sp-6);
}
.courses-header .left h2{line-height:1.2}
.actions-wrap{display:flex;align-items:center;gap:var(--sp-4)}
.search-wrap{
  display:flex;align-items:center;gap:.6rem;padding:.55rem .75rem;border-radius:12px;
  background:var(--surface-2);border:1px solid var(--line);
}
.search-wrap input{
  background:transparent;border:0;outline:0;color:var(--text);min-width:260px;
}
.search-wrap input::placeholder{color:#91a0c7}

.view-toggle{display:flex;border:1px solid var(--line);border-radius:12px;overflow:hidden}
.view-btn{background:var(--surface-2);padding:.55rem .7rem;border:0;color:var(--text)}
.view-btn.active{background:var(--brand);color:#fff}
.view-btn:not(.active):hover{background:var(--elev)}

/* ---------- Toolbar selects ---------- */
.toolbar{display:flex;gap:var(--sp-4);margin-bottom:var(--sp-4)}
.select-wrap{
  display:flex;align-items:center;gap:.6rem;background:var(--surface-2);
  border:1px solid var(--line);padding:.5rem .75rem;border-radius:12px;
}
.select-wrap select{
  appearance:none;background:transparent;border:0;color:var(--text);outline:0;
}
.select-wrap i{color:#9db2ff}

/* ---------- Course grid & cards ---------- */
.course-grid{
  --min: 280px;
  display:grid;grid-template-columns:repeat(auto-fill,minmax(var(--min),1fr));
  gap:var(--sp-4);
}
.course-card{
  background:linear-gradient(180deg,var(--card),#0b1322);
  border:1px solid var(--line);border-radius:var(--radius-xl);
  padding:var(--sp-5);min-height:130px;display:flex;flex-direction:column;gap:var(--sp-4);
  box-shadow:var(--shadow);
  transform:translateZ(0);
}
.course-card:hover{border-color:#2c3d68;box-shadow:0 12px 28px rgba(14,18,34,.55)}
.course-card .course-card__title{font-weight:700;letter-spacing:.2px}
.course-card .course-card__subtitle{color:var(--muted);font-size:.95rem}
.course-card .course-card__actions{display:flex;gap:.6rem;align-items:center;margin-top:auto}

/* skeleton */
.course-card.skeleton{
  background:linear-gradient(90deg,#0e1526 25%, #121a2d 37%, #0e1526 63%);
  background-size:400% 100%;
  animation:shimmer 1.2s ease-in-out infinite;
  height:140px;border-radius:var(--radius-xl);
  border-color:transparent;
}
@keyframes shimmer{
  0%{background-position:100% 0}
  100%{background-position:0 0}
}

/* ---------- Empty state ---------- */
.empty-state{
  text-align:center;border:1px dashed var(--line);border-radius:var(--radius);
  padding:3rem;margin-top:var(--sp-6);background:var(--surface-2);
}
.empty-illustration{font-size:2rem;margin-bottom:.5rem;opacity:.9}

/* ---------- Offering detail ---------- */
.course-detail{
  margin-top:var(--sp-6);
  border:1px solid var(--line);border-radius:var(--radius-xl);overflow:hidden;
  background:linear-gradient(180deg,#0e172b,#0b1222);
  box-shadow:var(--shadow);
}
.course-detail__hero{
  padding:var(--sp-6);
  background: radial-gradient(900px 600px at 70% -200px, #1b2b55 0%, transparent 55%);
  border-bottom:1px solid var(--line);
}
.course-detail__hero-top{
  display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--sp-4)
}
.course-detail__hero-main{
  display:grid;grid-template-columns:auto 1fr auto;gap:var(--sp-6);align-items:center;
}
.course-detail__icon{
  width:56px;height:56px;border-radius:14px;display:grid;place-items:center;
  background:linear-gradient(135deg,#20356d,#15254f);border:1px solid var(--line);color:#dfe7ff;
}
.course-detail__meta .course-detail__title{font-size:1.35rem}
.course-detail__subtitle{color:var(--muted)}
.course-detail__search{
  display:flex;align-items:center;gap:.6rem;background:var(--surface-2);
  border:1px solid var(--line);padding:.55rem .75rem;border-radius:12px;
}
.course-detail__search input{background:transparent;border:0;color:var(--text);outline:0}

.course-detail__body{padding:var(--sp-6)}
.course-detail__loading{display:grid;place-items:center;padding:3rem;color:var(--muted)}
.loader{
  width:26px;height:26px;border-radius:50%;border:3px solid #2a3b66;border-top-color:var(--brand);
  animation:spin .8s linear infinite;margin-bottom:.6rem;
}
@keyframes spin{to{transform:rotate(360deg)}}
.course-detail__error{color:#ffc0c0;background:#300e17;border:1px solid #5c1f2b;padding:1rem;border-radius:12px}

/* ---------- Course blocks (courses & folders) ---------- */
.course-block{margin-top:var(--sp-6)}
.course-block__header{
  display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--sp-3);
}
.course-block__title-wrap{display:flex;align-items:center;gap:.6rem}
.course-block__count{
  display:inline-grid;place-items:center;min-width:1.6rem;height:1.6rem;padding:0 .4rem;
  border-radius:999px;background:var(--surface-2);border:1px solid var(--line);font-size:.86rem;color:var(--muted);
}
.course-block__empty{
  border:1px dashed var(--line);padding:1rem;border-radius:12px;background:var(--surface-2);
  color:var(--muted)
}

/* ---------- Resource grid (folders) ---------- */
.resource-grid{
  --min: 320px;
  display:grid;grid-template-columns:repeat(auto-fill,minmax(var(--min),1fr));
  gap:var(--sp-4);
}
.resource-card{
  border:1px solid var(--line);border-radius:var(--radius);
  background:linear-gradient(180deg,var(--surface),var(--surface-2));
  padding:var(--sp-4);
  box-shadow:0 8px 18px rgba(0,0,0,.25);
  transition:border-color .2s, transform .08s;
}
.resource-card:hover{border-color:#2b3c66;transform:translateY(-1px)}
.resource-card.drop-target{outline:2px dashed var(--brand);outline-offset:4px}
.resource-card__head{
  display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--sp-3);
}
.resource-card__head h6{font-size:1rem;letter-spacing:.2px}
.card-actions{display:flex;gap:.4rem}

/* resource list */
.resource-card__list{
  display:flex;flex-direction:column;gap:.4rem;margin-bottom:.6rem;min-height:12px;
}
.res-row{
  display:flex;align-items:center;justify-content:space-between;gap:.75rem;
  padding:.55rem .7rem;border:1px solid var(--line);border-radius:10px;background:var(--bg-2);
}
.res-row.dragging{opacity:.6}
.res-item{display:flex;align-items:center;gap:.6rem;min-width:0}
.res-kind{
  font-family:var(--mono);font-size:.78rem;opacity:.85;color:#c8d5ff;
  background:#162247;border:1px solid #22305a;border-radius:8px;padding:.1rem .35rem;
}
.res-name{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:48ch}
.res-actions{display:flex;gap:.35rem}

/* ---------- Dialogs ---------- */
dialog.course-dialog{
  border:1px solid var(--line);border-radius:16px;padding:0;max-width:720px;width:96%;
  background:linear-gradient(180deg,#0f1627,#0a1222);
  color:var(--text);box-shadow:var(--shadow);
}
dialog::backdrop{background:rgba(6,9,16,.55);backdrop-filter:blur(2px)}
.course-form{padding:var(--sp-5)}
.dialog-header{
  display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--line);
  padding:var(--sp-4) var(--sp-5);background:var(--surface);
}
.form-grid{
  display:grid;grid-template-columns:1fr 1fr;gap:var(--sp-4);padding:var(--sp-5) var(--sp-5) 0;
}
.field{display:flex;flex-direction:column;gap:.4rem}
.field span{font-size:.9rem;color:var(--muted)}
.field input,.field select{
  background:var(--bg-2);border:1px solid var(--line);border-radius:12px;padding:.7rem .85rem;color:var(--text);outline:0;
}
.field input:focus,.field select:focus{border-color:var(--brand)}
.dialog-actions{
  display:flex;justify-content:flex-end;gap:.6rem;padding:var(--sp-5);border-top:1px solid var(--line);
}

/* ---------- Utilities ---------- */
.row-wrap{flex-wrap:wrap}
[title]{cursor:help}

/* ---------- Scrollbar ---------- */
*{
  scrollbar-color:#2b3e6b transparent;
  scrollbar-width:thin;
}
::-webkit-scrollbar{height:10px;width:10px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{
  background:#2b3e6b;border-radius:10px;border:2px solid transparent;background-clip:content-box;
}
::-webkit-scrollbar-thumb:hover{background:#3b57a0}

/* ---------- Responsive ---------- */
@media (max-width: 1200px){
  .left-sidebar{display:none}
  .main-container{padding:var(--sp-4)}
}
@media (max-width: 920px){
  .courses-header{flex-direction:column;align-items:stretch;gap:var(--sp-4)}
  .actions-wrap{justify-content:space-between}
  .search-wrap input{min-width:180px}
  .course-detail__hero-main{grid-template-columns:1fr}
}
@media (max-width: 520px){
  .header{padding:var(--sp-3) var(--sp-4)}
  .main-container{padding:var(--sp-3)}
  .course-grid{--min: 240px}
  .resource-grid{--min: 260px}
  .form-grid{grid-template-columns:1fr}
}
